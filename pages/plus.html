<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plus - Sjov Matematik</title>
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div class="container">
    <header class="header">
      <h1><i class="fas fa-plus"></i> Plus (Addition)</h1>
      <p>L√¶r at l√¶gge tal sammen. Jo flere rigtige, jo sv√¶rere bliver opgaverne!</p>
    </header>

    <div class="stats-bar">
      <div class="stat-item">
        <div class="stat-label">Niveau</div>
        <div class="stat-value" id="userLevel">1</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">Point</div>
        <div class="stat-value" id="userPoints">0</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">I tr√¶k</div>
        <div class="stat-value" id="streak">0</div>
      </div>
    </div>

    <main>
      <!-- NIVEAU V√ÜLGER -->
      <div style="margin-bottom: 30px; text-align: center;">
        <h3>V√¶lg sv√¶rhedsgrad:</h3>
        <div class="level-buttons">
          <button class="level-btn active" data-level="1">Let (tal under 10)</button>
          <button class="level-btn" data-level="2">Mellem (tal under 20)</button>
          <button class="level-btn" data-level="3">Sv√¶r (tal under 100)</button>
        </div>
      </div>

      <!-- OPGAVE -->
      <div class="opgave-container">
        <div class="opgave-tekst" id="opgaveTekst">
          <!-- Opgaven vises her -->
        </div>
        
        <div class="input-group">
          <input type="number" id="svarInput" class="answer-input" placeholder="Dit svar" autofocus>
          <button onclick="tjekSvar()" class="button primary-btn">
            <i class="fas fa-check"></i> Tjek svar
          </button>
          <button onclick="nyOpgave()" class="button secondary-btn">
            <i class="fas fa-redo"></i> Ny opgave
          </button>
        </div>
        
        <!-- KNAPPER - T√ÜLLELINJE KUN I NIVEAU 1 OG 2 -->
        <div id="tallelinjeKnapper" style="margin-top: 20px; display: flex; gap: 10px; flex-wrap: wrap; justify-content: center;">
          <!-- Knapperne inds√¶ttes dynamisk baseret p√• niveau -->
        </div>
      </div>
      
      <!-- T√ÜLLELINJE - KUN VISES I NIVEAU 1 OG 2 -->
      <div id="tallelinjeContainer" class="tallelinje-container">
        <h3>T√¶llelinje - Visualiser regnestykket:</h3>
        <div class="tallelinje-wrapper">
          <div id="tallelinje" class="tallelinje-ramme">
            <!-- T√¶llelinjen tegnes her med JavaScript -->
          </div>
          <div class="tallelinje-knapper">
            <button onclick="startAnimation()" class="button" style="background: #667eea; color: white;">
              <i class="fas fa-play-circle"></i> Vis animation
            </button>
            <button onclick="skjulTallelinje()" class="button" style="background: #a0aec0; color: white;">
              <i class="fas fa-eye-slash"></i> Skjul t√¶llelinje
            </button>
            <button onclick="forklarTallelinje()" class="button" style="background: #f6ad55; color: white;">
              <i class="fas fa-info-circle"></i> Hj√¶lp
            </button>
          </div>
        </div>
      </div>
      
      <!-- FEEDBACK -->
      <div id="feedback" class="feedback"></div>
      
      <!-- FORS√òG LISTE -->
      <div id="attemptsList" style="margin-top: 30px;">
        <h3>Dine seneste fors√∏g:</h3>
        <div id="attemptsContainer" style="margin-top: 10px;"></div>
      </div>
      
      <!-- TILBAGE -->
      <div style="text-align: center; margin-top: 40px;">
        <a href="../index.html" class="back-link">
          <i class="fas fa-arrow-left"></i> Tilbage til menuen
        </a>
      </div>
    </main>
  </div>

  <!-- JAVASCRIPT -->
  <script src="../js/app.js"></script>
  <script>
    // PLUS SPECIFIK KODE
    let currentLevel = 1;
    let currentTal1, currentTal2, correctAnswer;
    let streak = 0;
    let attempts = [];
    let animationActive = false;

    // N√ÖR SIDEN INDL√ÜSES
    document.addEventListener('DOMContentLoaded', function() {
      loadUserData();
      opdaterBrugerinfo();
      setupLevelButtons();
      genererOpgave();
      opdaterKnapper();
      
      // Enter-tasten
      document.getElementById('svarInput').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') tjekSvar();
      });
    });

    // OPDATER BRUGERINFO
    function opdaterBrugerinfo() {
      document.getElementById('userLevel').textContent = currentLevel;
      document.getElementById('userPoints').textContent = userData.totalPoints;
      document.getElementById('streak').textContent = streak;
    }

    // SETUP NIVEAU KNAPPER
    function setupLevelButtons() {
      const buttons = document.querySelectorAll('.level-btn');
      buttons.forEach(btn => {
        btn.addEventListener('click', function() {
          // Fjern active fra alle
          buttons.forEach(b => b.classList.remove('active'));
          // Tilf√∏j active til klikket
          this.classList.add('active');
          // Opdater niveau
          currentLevel = parseInt(this.dataset.level);
          opdaterBrugerinfo();
          genererOpgave();
          opdaterKnapper();
          // Skjul t√¶llelinje n√•r niveau √¶ndres
          document.getElementById('tallelinjeContainer').style.display = 'none';
        });
      });
    }

    // OPDATER KNAPPER BASERET P√Ö NIVEAU
    function opdaterKnapper() {
      const knapContainer = document.getElementById('tallelinjeKnapper');
      let html = '';
      
      // T√¶llelinje knapper kun for niveau 1 og 2
      if (currentLevel <= 2) {
        html += `
          <button onclick="visTallelinje()" class="button" style="background: #667eea; color: white; flex: 1; min-width: 150px;">
            <i class="fas fa-ruler-combined"></i> Vis t√¶llelinje
          </button>
          <button onclick="startAnimation()" class="button" style="background: #48bb78; color: white; flex: 1; min-width: 150px;">
            <i class="fas fa-play-circle"></i> Vis skridt-for-skridt
          </button>
        `;
      }
      
      // Hj√¶lpeknapper for alle niveauer
      html += `
        <button onclick="visHjaelp()" class="button" style="background: #f6ad55; color: white; flex: 1; min-width: 150px;">
          <i class="fas fa-question-circle"></i> F√• hj√¶lp
        </button>
        <button onclick="visForklaring()" class="button" style="background: #90cdf4; color: white; flex: 1; min-width: 150px;">
          <i class="fas fa-lightbulb"></i> Se l√∏sning
        </button>
      `;
      
      knapContainer.innerHTML = html;
    }

    // GENERER NY PLUS OPGAVE (TILF√ÜLDIG R√ÜKKEF√òLGE)
    function genererOpgave() {
      let maxTal;
      
      switch(currentLevel) {
        case 1: maxTal = 10; break;
        case 2: maxTal = 20; break;
        case 3: maxTal = 100; break;
        default: maxTal = 10;
      }
      
      // Generer to tal i tilf√¶ldig r√¶kkef√∏lge
      currentTal1 = Math.floor(Math.random() * maxTal) + 1;
      currentTal2 = Math.floor(Math.random() * maxTal) + 1;
      
      correctAnswer = currentTal1 + currentTal2;
      
      // Vis opgaven
      document.getElementById('opgaveTekst').innerHTML = `
        Hvad er <span class="regnearter">${currentTal1}</span> 
        <i class="fas fa-plus" style="color: #48bb78;"></i> 
        <span class="regnearter">${currentTal2}</span> 
        ?
      `;
      
      // Nulstil input
      document.getElementById('svarInput').value = '';
      document.getElementById('svarInput').focus();
      
      // Skjul t√¶llelinje
      document.getElementById('tallelinjeContainer').style.display = 'none';
    }

    // HJ√ÜLPEFUNKTIONER TIL T√ÜLLELINJE
    function getStorsteTal() {
      return Math.max(currentTal1, currentTal2);
    }

    function getMindsteTal() {
      return Math.min(currentTal1, currentTal2);
    }

    function skalBytteR√¶kkef√∏lgeForTallelinje() {
      // Kun byt hvis det st√∏rste tal ikke er f√∏rst
      return getStorsteTal() !== currentTal1;
    }

    // TJEK SVAR
    function tjekSvar() {
      const svarInput = document.getElementById('svarInput');
      const brugerSvar = parseInt(svarInput.value);
      
      if (isNaN(brugerSvar)) {
        showFeedback('Skriv venligst et tal f√∏r du tjekker svar', false);
        return;
      }
      
      const isCorrect = brugerSvar === correctAnswer;
      
      // Gem fors√∏g
      attempts.unshift({
        opgave: `${currentTal1} + ${currentTal2}`,
        svar: brugerSvar,
        korrekt: isCorrect,
        tid: new Date().toLocaleTimeString()
      });
      
      // Begr√¶ns til 5 seneste
      if (attempts.length > 5) attempts.pop();
      visForsog();
      
      if (isCorrect) {
        streak++;
        showFeedback(`‚úÖ Fantastisk! ${currentTal1} + ${currentTal2} = ${correctAnswer}`, true);
        calculateNewLevel(true);
        
        // Automatisk ny opgave
        setTimeout(() => {
          genererOpgave();
          opdaterBrugerinfo();
        }, 1500);
      } else {
        streak = 0;
        showFeedback(`‚ùå ${brugerSvar} er ikke rigtigt. Pr√∏v igen!`, false);
        calculateNewLevel(false);
      }
      
      opdaterBrugerinfo();
    }

    // VIS FORS√òG
    function visForsog() {
      const container = document.getElementById('attemptsContainer');
      if (!container) return;
      
      let html = '';
      attempts.forEach((attempt, index) => {
        html += `
          <div style="padding: 10px; margin: 5px 0; background: ${attempt.korrekt ? '#c6f6d5' : '#fed7d7'}; border-radius: 5px;">
            ${attempt.opgave} = ${attempt.svar} 
            ${attempt.korrekt ? '‚úÖ' : '‚ùå'}
            <small style="float:right;">${attempt.tid}</small>
          </div>
        `;
      });
      
      container.innerHTML = html || '<p>Ingen fors√∏g endnu...</p>';
    }

    // NY OPGAVE
    function nyOpgave() {
      genererOpgave();
      document.getElementById('feedback').textContent = '';
      document.getElementById('feedback').className = 'feedback';
      animationActive = false;
    }

    // VIS HJ√ÜLP
    function visHjaelp() {
      const storsteTal = getStorsteTal();
      const mindsteTal = getMindsteTal();
      const skalBytte = skalBytteR√¶kkef√∏lgeForTallelinje();
      
      let hj√¶lp = `
        <strong>Smart addition-strategi:</strong><br>
        1. <strong>Find det st√∏rste tal</strong> (${storsteTal})<br>
        2. <strong>Start med at t√¶lle fra det</strong><br>
        3. <strong>T√¶l det mindre tal frem</strong> (${mindsteTal} skridt)<br>
      `;
      
      if (skalBytte) {
        hj√¶lp += `<br><em>Eksempel: ${currentTal1} + ${currentTal2}<br>
        Smart: Start med ${storsteTal}, t√¶l ${mindsteTal} frem ‚Üí ${correctAnswer}<br>
        Du sparer ${storsteTal - mindsteTal} skridt!</em>`;
      } else {
        hj√¶lp += `<br><em>Opgaven: ${currentTal1} + ${currentTal2}<br>
        Smart: Du startede allerede med st√∏rste tal!</em>`;
      }
      
      document.getElementById('feedback').innerHTML = hj√¶lp;
      document.getElementById('feedback').className = 'feedback hjelp';
    }

    // VIS FORKLARING
    function visForklaring() {
      const storsteTal = getStorsteTal();
      const mindsteTal = getMindsteTal();
      
      const forklaring = `
        <strong>Strategisk l√∏sning:</strong><br>
        1. <strong>Identific√©r st√∏rste tal:</strong> ${storsteTal}<br>
        2. <strong>Start derfra:</strong> ${storsteTal}<br>
        3. <strong>T√¶l mindste tal frem:</strong> ${mindsteTal} skridt<br>
        4. <strong>Resultat:</strong> ${storsteTal} + ${mindsteTal} = ${correctAnswer}<br><br>
        <em>N√•r du ser ${currentTal1} + ${currentTal2}, t√¶nk:<br>
        "Jeg starter med ${storsteTal} og t√¶ller ${mindsteTal}"</em>
      `;
      
      document.getElementById('feedback').innerHTML = forklaring;
      document.getElementById('feedback').className = 'feedback hjelp';
    }

    // T√ÜLLELINJE FUNKTIONER (KUN FOR NIVEAU 1 OG 2)
    function visTallelinje() {
      if (currentLevel >= 3) {
        showFeedback('T√¶llelinjen er kun tilg√¶ngelig i niveau 1 og 2', false);
        return;
      }
      document.getElementById('tallelinjeContainer').style.display = 'block';
      tegnTallelinje();
    }

    function skjulTallelinje() {
      document.getElementById('tallelinjeContainer').style.display = 'none';
      animationActive = false;
    }

    function tegnTallelinje() {
      if (currentLevel >= 3) return;
      
      const container = document.getElementById('tallelinje');
      const storsteTal = getStorsteTal();
      const mindsteTal = getMindsteTal();
      
      // T√¶llelinjen starter ALTID ved st√∏rste tal
      const startTal = storsteTal;
      const antalSkridt = mindsteTal;
      const slutTal = startTal + antalSkridt;
      
      const start = Math.max(0, startTal - 8);
      const slut = slutTal + 8;
      
      let html = '';
      
      // Tegn hovedlinjen
      html += `<div class="tallelinje-linje"></div>`;
      
      // Tegn markeringer og tal
      for (let i = start; i <= slut; i++) {
        const position = ((i - start) / (slut - start)) * 100;
        
        // Vis alle tal
        html += `
          <div class="tallelinje-markering" style="left: ${position}%; top: 60px;">
            <div style="width: 2px; height: 15px; background: #4a5568; margin: 0 auto;"></div>
          </div>
        `;
        
        // Vis tal for hver markering
        const isStart = i === startTal;
        const isSlut = i === slutTal;
        
        html += `
          <div class="tallelinje-tal" style="left: ${position}%; top: 80px; 
            font-size: ${isStart || isSlut ? '16px' : '14px'}; 
            color: ${isStart ? '#48bb78' : isSlut ? '#4299e1' : '#4a5568'};
            ${isStart || isSlut ? 'font-weight: bold;' : ''}">
            ${i}
          </div>
        `;
      }
      
      // Marker starttallet (st√∏rste tal) - TEKST UNDER CIRKEL
      const startPosition = ((startTal - start) / (slut - start)) * 100;
      html += `
        <div class="tallelinje-start" style="left: ${startPosition}%; top: 30px;">
          <div class="tallelinje-start-cirkel">
            ${startTal}
          </div>
          <div style="text-align: center; margin-top: 15px; font-size: 14px; color: #48bb78; font-weight: bold;">
            Start (st√∏rste tal)
          </div>
        </div>
      `;
      
      // Marker sluttallet - TEKST UNDER CIRKEL
      const slutPosition = ((slutTal - start) / (slut - start)) * 100;
      html += `
        <div class="tallelinje-slut" style="left: ${slutPosition}%; top: 30px;">
          <div class="tallelinje-slut-cirkel">
            ${slutTal}
          </div>
          <div style="text-align: center; margin-top: 15px; font-size: 14px; color: #4299e1; font-weight: bold;">
            Slut (svar)
          </div>
        </div>
      `;
      
      // Tegn alle skridt-markeringspunkter
      for (let skridt = 1; skridt <= antalSkridt; skridt++) {
        const skridtPosition = ((startTal + skridt - start) / (slut - start)) * 100;
        const isLastSkridt = skridt === antalSkridt;
        
        html += `
          <div id="skridt-${skridt}" class="skridt-punkt" style="
            position: absolute;
            left: ${skridtPosition}%;
            top: 70px;
            width: ${isLastSkridt ? '30px' : '20px'};
            height: ${isLastSkridt ? '30px' : '20px'};
            background: ${isLastSkridt ? '#4299e1' : '#f56565'};
            border-radius: 50%;
            transform: translate(-50%, -50%);
            opacity: 0.3;
            border: 2px solid white;
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
            z-index: 6;
          "></div>
        `;
        
        // Skridt nummer over punktet
        html += `
          <div style="
            position: absolute;
            left: ${skridtPosition}%;
            top: 40px;
            transform: translateX(-50%);
            font-size: 14px;
            color: #f56565;
            font-weight: bold;
            opacity: 0.3;
          ">
            ${skridt}
          </div>
        `;
      }
      
      // Tilf√∏j note om r√¶kkef√∏lge hvis n√∏dvendigt
      if (skalBytteR√¶kkef√∏lgeForTallelinje()) {
        html += `
          <div style="
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            background: #f6ad55;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 14px;
            z-index: 10;
            box-shadow: 0 4px 8px rgba(246, 173, 85, 0.4);
          ">
            üí° Smart: Starter med st√∏rste tal (${storsteTal})
          </div>
        `;
      }
      
      container.innerHTML = html;
    }

    // START ANIMATION - MED LILLE PRIK
    function startAnimation() {
      if (currentLevel >= 3) {
        showFeedback('T√¶llelinjen er kun tilg√¶ngelig i niveau 1 og 2', false);
        return;
      }
      
      if (animationActive) return;
      animationActive = true;
      
      const container = document.getElementById('tallelinje');
      const storsteTal = getStorsteTal();
      const mindsteTal = getMindsteTal();
      
      // T√¶llelinjen starter ALTID ved st√∏rste tal
      const startTal = storsteTal;
      const antalSkridt = mindsteTal;
      const slutTal = startTal + antalSkridt;
      
      const start = Math.max(0, startTal - 8);
      const slut = slutTal + 8;
      const startPosition = ((startTal - start) / (slut - start)) * 100;
      
      // Fjern evt. gammel animation
      const oldAnimation = document.querySelector('.animation-prik');
      if (oldAnimation) oldAnimation.remove();
      
      // Fjern active-step fra alle punkter
      document.querySelectorAll('.skridt-punkt').forEach(p => {
        p.classList.remove('active-step');
      });
      
      // Vis t√¶llelinje hvis den er skjult
      document.getElementById('tallelinjeContainer').style.display = 'block';
      tegnTallelinje();
      
      // Opret animerings-prik - LILLE (15px)
      const animationPrik = document.createElement('div');
      animationPrik.className = 'animation-prik';
      animationPrik.style.cssText = `
        position: absolute;
        left: ${startPosition}%;
        top: 70px;
        width: 15px;
        height: 15px;
        background: #48bb78;
        border-radius: 50%;
        transform: translate(-50%, -50%);
        z-index: 3;
        box-shadow: 0 2px 4px rgba(72, 187, 120, 0.4);
        transition: all 0.5s ease;
      `;
      
      container.appendChild(animationPrik);
      
      // Start step-by-step animation
      let currentStep = 0;
      
      function takeNextStep() {
        if (currentStep >= antalSkridt || !animationActive) {
          // Animation f√¶rdig eller afbrudt
          if (animationPrik) {
            animationPrik.style.opacity = '0';
            animationPrik.style.transition = 'opacity 0.5s ease';
            setTimeout(() => {
              if (animationPrik.parentNode) {
                animationPrik.parentNode.removeChild(animationPrik);
              }
            }, 500);
          }
          
          setTimeout(() => {
            tegnTallelinje(); // Genindl√¶s t√¶llelinjen
            animationActive = false;
          }, 1000);
          return;
        }
        
        currentStep++;
        const stepPosition = ((startTal + currentStep - start) / (slut - start)) * 100;
        const isLastStep = currentStep === antalSkridt;
        
        // Flyt prikken
        animationPrik.style.left = `${stepPosition}%`;
        animationPrik.style.background = isLastStep ? '#4299e1' : '#f56565';
        
        // G√∏r prikken lidt st√∏rre n√•r den er aktiv
        animationPrik.style.width = '20px';
        animationPrik.style.height = '20px';
        animationPrik.style.boxShadow = '0 3px 6px rgba(0,0,0,0.3)';
        animationPrik.style.zIndex = '4';
        
        // Fremh√¶v dette skridt-punkt
        const punkt = document.getElementById(`skridt-${currentStep}`);
        if (punkt) {
          punkt.classList.add('active-step');
          punkt.style.opacity = '1';
          punkt.style.background = isLastStep ? '#4299e1' : '#f56565';
          punkt.style.width = '25px';
          punkt.style.height = '25px';
          punkt.style.zIndex = '8';
          
          // Fjern active-step fra forrige punkt (hvis der er et)
          const prevPunkt = document.getElementById(`skridt-${currentStep-1}`);
          if (prevPunkt) {
            prevPunkt.classList.remove('active-step');
            prevPunkt.style.width = '20px';
            prevPunkt.style.height = '20px';
            prevPunkt.style.zIndex = '6';
          }
          
          // Vis skridt-nummer tydeligt
          const skridtNummer = punkt.parentElement.querySelector(`div[style*="top: 40px"]`);
          if (skridtNummer && skridtNummer.textContent === String(currentStep)) {
            skridtNummer.style.opacity = '1';
            skridtNummer.style.color = isLastStep ? '#4299e1' : '#f56565';
            skridtNummer.style.fontSize = '16px';
            skridtNummer.style.fontWeight = 'bold';
          }
        }
        
        // Vis skridt-besked
        const feedback = document.getElementById('feedback');
        if (feedback) {
          feedback.innerHTML = `
            <div style="text-align: center;">
              <strong>Skridt ${currentStep}/${antalSkridt}:</strong><br>
              Start med st√∏rste tal (${startTal})<br>
              ${startTal} + ${currentStep} = <span style="color: #f56565; font-weight: bold;">${startTal + currentStep}</span><br>
              <small>${antalSkridt - currentStep} skridt tilbage</small>
            </div>
          `;
          feedback.className = 'feedback correct';
        }
        
        // N√¶ste skridt (pause f√∏rst)
        setTimeout(takeNextStep, isLastStep ? 1200 : 800);
      }
      
      // Start animationen
      setTimeout(takeNextStep, 500);
    }

    function forklarTallelinje() {
      if (currentLevel >= 3) {
        showFeedback('T√¶llelinjen er kun tilg√¶ngelig i niveau 1 og 2', false);
        return;
      }
      
      const storsteTal = getStorsteTal();
      const mindsteTal = getMindsteTal();
      const skalBytte = skalBytteR√¶kkef√∏lgeForTallelinje();
      
      let forklaring = `
        <strong>Smart t√¶llelinje-strategi (niveau ${currentLevel}):</strong><br><br>
        1. üìç <strong>Start altid med det st√∏rste tal</strong> (${storsteTal})<br>
        2. üî¥ <strong>T√¶l kun det mindste tal</strong> (${mindsteTal} skridt)<br>
        3. üìç <strong>Slut p√• svaret</strong> (${storsteTal + mindsteTal})<br><br>
      `;
      
      if (skalBytte) {
        forklaring += `
          <em>üí° OPGAVEN: ${currentTal1} + ${currentTal2}<br>
          üí° T√ÜLLELINJE: ${storsteTal} + ${mindsteTal}<br>
          Smart: Du sparer ${storsteTal - mindsteTal} skridt!</em><br><br>
        `;
      }
      
      forklaring += `<small>Tryk "Vis skridt-for-skridt" for at se hvert skridt</small>`;
      
      document.getElementById('feedback').innerHTML = forklaring;
      document.getElementById('feedback').className = 'feedback hjelp';
    }
  </script>

  <style>
    /* NIVEAU KNAPPER */
    .level-buttons {
      display: flex;
      gap: 10px;
      justify-content: center;
      margin-top: 15px;
      flex-wrap: wrap;
    }
    
    .level-btn {
      padding: 12px 20px;
      border: 2px solid #cbd5e0;
      background: white;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
    }
    
    .level-btn:hover {
      border-color: #48bb78;
      background: #f0fff4;
    }
    
    .level-btn.active {
      background: #48bb78;
      color: white;
      border-color: #48bb78;
    }
    
    /* T√ÜLLELINJE STYLES */
    .tallelinje-container {
      margin-top: 30px;
      display: none;
    }
    
    .tallelinje-wrapper {
      background: white;
      border: 2px solid #667eea;
      border-radius: 10px;
      padding: 25px;
      overflow-x: auto;
      box-shadow: 0 10px 20px rgba(0,0,0,0.05);
    }
    
    .tallelinje-ramme {
      position: relative;
      height: 150px;
      min-width: 600px;
      margin: 20px 0;
      padding: 10px 0;
    }
    
    .tallelinje-linje {
      position: absolute;
      top: 70px;
      left: 0;
      right: 0;
      height: 4px;
      background: #4a5568;
      z-index: 1;
    }
    
    .tallelinje-markering {
      position: absolute;
      transform: translateX(-50%);
      z-index: 2;
    }
    
    .tallelinje-tal {
      position: absolute;
      transform: translateX(-50%);
      font-weight: bold;
      z-index: 3;
    }
    
    .tallelinje-start {
      position: absolute;
      transform: translateX(-50%);
      z-index: 4;
    }
    
    .tallelinje-start-cirkel {
      background: #48bb78;
      color: white;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      font-weight: bold;
      font-size: 20px;
      box-shadow: 0 6px 12px rgba(72, 187, 120, 0.3);
      margin: 0 auto;
    }
    
    .tallelinje-slut {
      position: absolute;
      transform: translateX(-50%);
      z-index: 4;
    }
    
    .tallelinje-slut-cirkel {
      background: #4299e1;
      color: white;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      font-weight: bold;
      font-size: 20px;
      box-shadow: 0 6px 12px rgba(66, 153, 225, 0.3);
      margin: 0 auto;
    }
    
    .tallelinje-knapper {
      display: flex;
      gap: 15px;
      justify-content: center;
      margin-top: 20px;
    }
    
    /* STEP-BY-STEP ANIMATION */
    .skridt-punkt {
      transition: all 0.5s ease;
    }
    
    @keyframes highlightStep {
      0% { transform: translate(-50%, -50%) scale(1); }
      50% { transform: translate(-50%, -50%) scale(1.3); }
      100% { transform: translate(-50%, -50%) scale(1); }
    }
    
    .highlighted-step {
      animation: highlightStep 0.5s ease;
      opacity: 1 !important;
      box-shadow: 0 8px 16px rgba(245, 101, 101, 0.5) !important;
    }
    
    /* ANIMATION PRIK - LILLE */
    .animation-prik {
      position: absolute;
      border-radius: 50%;
      transform: translate(-50%, -50%);
      z-index: 3;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      transition: all 0.5s ease;
    }
    
    /* HOVER EFFEKT P√Ö SKRIDT-PUNKTER */
    .skridt-punkt:hover {
      opacity: 0.8 !important;
      transform: translate(-50%, -50%) scale(1.2);
      transition: all 0.3s ease;
      cursor: pointer;
    }
    
    /* N√ÖR ANIMATION-PRIKKEN ER OVER ET SKRIDT-PUNKT */
    .skridt-punkt.active-step {
      opacity: 1 !important;
      transform: translate(-50%, -50%) scale(1.3);
      box-shadow: 0 6px 12px rgba(245, 101, 101, 0.5) !important;
      z-index: 8 !important;
      transition: all 0.3s ease;
    }
  </style>
</body>
</html>